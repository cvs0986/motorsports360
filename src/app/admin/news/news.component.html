<p-toast></p-toast>
<p-table [value]="cars2" dataKey="vin" editMode="row" [responsive]="true">
  <ng-template pTemplate="header">
    <tr>
      <th style="width:3em">Sr. No.</th>
      <th>Image</th>
      <th>Headline</th>
      <th>Author/Series</th>
      <th>News Url</th>
      <th style="width:20em">Description</th>
      <th style="width:4em"></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-rowData let-editing="editing" let-ri="rowIndex">
    <tr [pEditableRow]="rowData">
      <td>
        {{rowData.id}}
      </td>
      <td>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input pInputText type="text" [(ngModel)]="rowData.image_url" required>
          </ng-template>
          <ng-template pTemplate="output">
            <img src="{{rowData.image_url}}" alt="" width="110" style="border-radius: 4px;">
          </ng-template>
        </p-cellEditor>
      </td>
      <td>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input pInputText type="text" [(ngModel)]="rowData.headline" required>
          </ng-template>
          <ng-template pTemplate="output">
            {{rowData.headline}}
          </ng-template>
        </p-cellEditor>
      </td>
      <td>
        {{rowData.author}}
      </td>
      <td>
        {{rowData.news_url}}
      </td>
      <td>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <textarea pInputText type="text" [cols]="30" [rows]="5" autoResize="autoResize" [(ngModel)]="rowData.description" required></textarea>
          </ng-template>
          <ng-template pTemplate="output">
            {{rowData.description}}
          </ng-template>
        </p-cellEditor>
      </td>
      <td style="text-align:center">
        <button *ngIf="!editing" pButton type="button" style="border: none; background: transparent" pInitEditableRow icon="pi pi-pencil" class="ui-button-info"
          (click)="onRowEditInit(rowData)"><img src="../../../assets/edit.png" width="16"></button>
        <button *ngIf="editing" style="border: none; background: transparent" pButton type="button" pSaveEditableRow icon="pi pi-check" class="ui-button-success"
          style="margin-right: .5em" (click)="onRowEditSave(rowData)"><img src="../../../assets/check-mark.png" width="16"></button>
        <button *ngIf="editing" style="border: none; background: transparent" pButton type="button" pCancelEditableRow icon="pi pi-times" class="ui-button-danger"
          (click)="onRowEditCancel(rowData, ri)"><img src="../../../assets/close-cross.png" width="16"></button>
      </td>
    </tr>
  </ng-template>
</p-table>